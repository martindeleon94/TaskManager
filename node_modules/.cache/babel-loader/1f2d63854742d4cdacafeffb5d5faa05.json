{"ast":null,"code":"var _jsxFileName = \"/Users/martindeleon/Documents/GitHub/MERNTask/cliente/src/components/tasks/tasks-form/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport projectContext from \"../../../context/projects/project-context\";\nimport taskContext from \"../../../context/tasks/task-context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FormTask = () => {\n  _s();\n\n  //Extract projects from initial state\n  const projectsContext = useContext(projectContext);\n  const {\n    project\n  } = projectsContext; //Gets context function\n\n  const tasksContext = useContext(taskContext);\n  const {\n    selectedTask,\n    errorTask,\n    addTask,\n    validatesTask,\n    getTasks\n  } = tasksContext; //Effect checks if there is a selected task\n\n  useEffect(() => {\n    if (selectedTask !== null) {\n      setTask(selectedTask);\n    } else {\n      setTask({\n        taskTitle: ''\n      });\n    }\n  }, [selectedTask]); //Form State\n\n  const [task, setTask] = useState({\n    taskTitle: ''\n  });\n  const {\n    taskTitle\n  } = task; //No selected project\n\n  if (!project) return null; //Array destructuring to extract current project\n\n  const [currentProject] = project; //Reads form values\n\n  const handleChange = e => {\n    setTask({ ...task,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault(); //Validates\n\n    if (taskTitle.trim() === '') {\n      validatesTask();\n      return;\n    } //Adds task to task state\n\n\n    task.projectId = currentProject.id;\n    task.state = false;\n    addTask(task); //Get and filter tasks from the current project\n\n    getTasks(currentProject.id); //Restarts form\n\n    setTask({\n      taskTitle: ''\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"formulario\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contenedor-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"input-text\",\n          placeholder: \"Tarea\",\n          name: \"taskTitle\",\n          value: taskTitle,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contenedor-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"btn btn-primario btn-block btn-submit\",\n          value: selectedTask ? 'Editar tarea' : 'Agregar tarea'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), errorTask ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mensaje error\",\n      children: \"El nombre de la tarea es obligatorio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FormTask, \"gJ5vnEWGyXexiL3cxLD5x8FTtuI=\");\n\n_c = FormTask;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormTask\");","map":{"version":3,"sources":["/Users/martindeleon/Documents/GitHub/MERNTask/cliente/src/components/tasks/tasks-form/index.js"],"names":["React","useContext","useState","useEffect","projectContext","taskContext","FormTask","projectsContext","project","tasksContext","selectedTask","errorTask","addTask","validatesTask","getTasks","setTask","taskTitle","task","currentProject","handleChange","e","target","name","value","onSubmit","preventDefault","trim","projectId","id","state"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect }from 'react';\nimport projectContext from \"../../../context/projects/project-context\";\nimport taskContext from \"../../../context/tasks/task-context\";\n\nexport const FormTask = () => {\n\n  //Extract projects from initial state\n  const projectsContext = useContext(projectContext);\n  const { project } = projectsContext;\n\n  //Gets context function\n  const tasksContext = useContext(taskContext)\n  const { selectedTask, errorTask, addTask, validatesTask, getTasks } = tasksContext;\n\n  //Effect checks if there is a selected task\n  useEffect(() => {\n    if (selectedTask !== null) {\n      setTask(selectedTask)\n    } else {\n      setTask({\n        taskTitle: ''\n      })\n    }\n  },[selectedTask]);\n\n  //Form State\n  const [task, setTask] = useState({\n    taskTitle: ''\n  })\n\n  const { taskTitle } = task;\n\n  //No selected project\n  if(!project) return null;\n\n  //Array destructuring to extract current project\n  const [currentProject] = project;\n\n  //Reads form values\n  const handleChange = e => {\n    setTask({\n      ...task,\n      [e.target.name] : e.target.value\n    })\n  }\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    //Validates\n    if(taskTitle.trim() === '') {\n      validatesTask();\n      return;\n    }\n\n    //Adds task to task state\n    task.projectId = currentProject.id;\n    task.state = false;\n    addTask(task);\n\n    //Get and filter tasks from the current project\n    getTasks(currentProject.id);\n\n    //Restarts form\n    setTask({\n      taskTitle: ''\n    })\n  }\n\n  return (\n    <div className=\"formulario\">\n      <form\n        onSubmit={onSubmit}\n      >\n        <div className=\"contenedor-input\">\n          <input\n            type=\"text\"\n            className=\"input-text\"\n            placeholder=\"Tarea\"\n            name=\"taskTitle\"\n            value={taskTitle}\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"contenedor-input\">\n          <input\n            type=\"submit\"\n            className=\"btn btn-primario btn-block btn-submit\"\n            value={selectedTask ? 'Editar tarea' : 'Agregar tarea'}\n          />\n        </div>\n      </form>\n      { errorTask ? <p className=\"mensaje error\">El nombre de la tarea es obligatorio</p> : null}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}